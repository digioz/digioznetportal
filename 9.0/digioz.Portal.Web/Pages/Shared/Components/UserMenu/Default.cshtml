@using Microsoft.AspNetCore.Identity
@{
    var SignInManager = (SignInManager<IdentityUser>)ViewBag.SignInManager;
    var UserManager = (UserManager<IdentityUser>)ViewBag.UserManager;
}

<div class="card bg-light mb-3">
    <div class="card-header">User</div>
    <div class="card-body">
        @if (SignInManager.IsSignedIn(User))
        {
            <ul class="nav flex-column">
                <li class="nav-item">
                    <form class="row g-1" asp-area="Identity" asp-page="/Account/Logout" asp-route-returnUrl="@Url.Action("Index", "Home", new { area = "" })">
                        <button type="submit" class="nav-link btn btn-link p-0 text-start">Logout</button>
                    </form>
                </li>
                <li class="nav-item">@Html.ActionLink("My Account", "Manage", "Account", new { area = "Identity" }, new { @class = "nav-link p-0 text-start" })</li>
                <li class="nav-item">@Html.ActionLink("My Profile", "Edit", "Profile", new { area = "" }, new { @class = "nav-link p-0 text-start" })</li>
                <li class="nav-item">@Html.ActionLink("My Pictures", "Pictures", "Profile", new { area = "" }, new { @class = "nav-link p-0 text-start" })</li>
                <li class="nav-item">@Html.ActionLink("My Videos", "Videos", "Profile", new { area = "" }, new { @class = "nav-link p-0 text-start" })</li>
                <li class="nav-item">@Html.ActionLink("Private Messages", "Index", "PrivateMessages", new { area = "" }, new { @class = "nav-link p-0 text-start" })</li>
                @if (User.IsInRole("Administrator"))
                {
                    <li class="nav-item">@Html.ActionLink("Admin Dashboard", "Index", "Home", new { area = "Admin" }, new { @class = "nav-link p-0 text-start" })</li>
                }
            </ul>
            <p class="small w-100 text-center">Logged in as @Html.ActionLink(@User.Identity.Name, "Index", "Profile", new { area = "" }, new { @class = "link-secondary" }).</p>
        }
        else
        {
            <ul class="nav flex-column">
                <li class="nav-item">
                    <a class="nav-link p-0 text-start" asp-area="Identity" asp-page="/Account/Register">Register</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link p-0 text-start" asp-area="Identity" asp-page="/Account/Login">Login</a>
                </li>
                <li class="nav-item">@Html.ActionLink("Forgot Password", "ForgotPassword", "Account", new { area = "Identity" }, new { @class = "nav-link p-0 text-start" })</li>
            </ul>
        }
    </div>
</div>
