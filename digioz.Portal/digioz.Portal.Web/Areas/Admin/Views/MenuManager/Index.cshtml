@model IEnumerable<digioz.Portal.Bo.Menu>

@{
    ViewBag.Title = "Menu Manager";
    Layout = "~/Areas/Admin/Views/Shared/_LayoutAdmin.cshtml";
}

<main>
	<div class="container-fluid">
		<div class="card mb-4">
			<div class="card-header">
				<h2>Menus</h2>
			</div>
			<div class="card-body">
				<p>
					<a class="btn btn-sm btn-primary" href="@Url.Action("Create", "MenuManager", new { area = "Admin" })">Create New</a>
				</p>
				<table class="table">
					<tr>
						<th>
							@Html.DisplayNameFor(model => model.Name)
						</th>
						<th>
							@Html.DisplayNameFor(model => model.Location)
						</th>
						<th>
							@Html.DisplayNameFor(model => model.Controller)
						</th>
						<th>
							@Html.DisplayNameFor(model => model.Action)
						</th>
						<th>
							@Html.DisplayNameFor(model => model.Url)
						</th>
						<th>
							@Html.DisplayNameFor(model => model.Visible)
						</th>
						<th>
							@Html.DisplayNameFor(model => model.Timestamp)
						</th>
						<th>
							@Html.DisplayNameFor(model => model.SortOrder)
						</th>
						<th></th>
					</tr>

					@foreach (var item in Model)
					{
						<tr>
							<td>
								@Html.DisplayFor(modelItem => item.Name)
							</td>
							<td>
								@Html.DisplayFor(modelItem => item.Location)
							</td>
							<td>
								@Html.DisplayFor(modelItem => item.Controller)
							</td>
							<td>
								@Html.DisplayFor(modelItem => item.Action)
							</td>
							<td>
								@if (!string.IsNullOrEmpty(item.Url))
								{
									<a href="@item.Url" target="_blank" style="border: 0px;">
										<img src="~/img/images/icons/16x16/link-external-16.png" />
									</a>
								}
							</td>
							<td>
								@Html.DisplayFor(modelItem => item.Visible)
							</td>
							<td>
								@Html.DisplayFor(modelItem => item.Timestamp)
							</td>
							<td>
								&nbsp;
								@if (!(Model.First().SortOrder == item.SortOrder))
								{
									<a href="@Url.Action("MoveUp","MenuManager", new { id = item.Id })" target="_blank" style="border: 0px;" alt="Up">
										<img src="~/img/images/icons/arrow_up.png" />
									</a>
								}
								else
								{
									<a href="" target="_blank" style="border: 0px;" alt="Up">
										<img src="~/img/images/icons/blank_9.png" />
									</a>
								}

								<span>@Html.DisplayFor(modelItem => item.SortOrder)</span>

								@if (!(Model.Last().SortOrder == item.SortOrder))
								{
									<a href="@Url.Action("MoveDown","MenuManager", new { id = item.Id })" target="_blank" style="border: 0px;" alt="Down">
										<img src="~/img/images/icons/arrow_down.png" />
									</a>
								}
							</td>
							<td style="width:100px;">
								<a href="@Url.Action("Details", new { id = item.Id })"><img class="sb-nav-link-icon" src="~/img/images/icons/16x16/Search.png" alt="Details" /></a>
								<a href="@Url.Action("Edit", new { id = item.Id })"><img class="sb-nav-link-icon" src="~/img/images/icons/16x16/Edit.png" alt="Edit" /></a>
								<a href="@Url.Action("Delete", new { id = item.Id })"><img class="sb-nav-link-icon" src="~/img/images/icons/16x16/Cancel.png" alt="Delete" /></a>
							</td>
						</tr>
					}
				</table>
			</div>
		</div>
	</div>
</main>
